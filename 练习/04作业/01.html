<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>

    function Stack() {
        this.dataStore=[];
        this.push=function (element) {
            this.dataStore[this.dataStore.length]=element;
        }

        this.pop=function(){
            if(this.dataStore.length<1)
                return null;
            //取得最后的数据
            var buffer = this.dataStore[this.dataStore.length-1];
            //把最后的数据置空
            this.dataStore[this.dataStore.length-1]=null;
            //改变数组的长度
            this.dataStore.length--;
            //返回数据
            return buffer;
        }

        this.peek=function () {
            //返回数据
            return this.dataStore[this.dataStore.length-1];
        }

        this.length = function () {
            return this.dataStore.length;
        }

        this.clear=function () {
            delete this.dataStore;
            this.dataStore=[];
        }

        this.forEach=function (call) {
            //1,获得数组的长度
            var length = this.dataStore.length;
            //2,遍历数据
            for(var i=length-1;i>=0;i--){
                // var item= this.dataStore[i];
                call(this.dataStore[i]);
            }
        }


    }
    //1,创建一个堆栈
    var stack = new Stack();
    function Judgment(expression) {
        for(let i=0;i<expression.length;i++){
            if(expression[i]=='('||expression[i]==')'||expression[i]=='{'||expression[i]=='}'||expression[i]=='['||expression[i]==']'){
                stack.push(expression[i]);
            }
        }
        for(let i=0;i<expression.length;i++){
            if(expression[i]=='('||expression[i]==')'||expression[i]=='{'||expression[i]=='}'||expression[i]=='['||expression[i]==']'){
                switch (expression[i]){
                    case '(':
                        let buffer=stack.peek();
                        if(buffer==')'){
                            stack.pop();
                        }else{
                            console.log(i+'位置缺少)');
                        }
                        break;
                    case '{':
                        let buffer1=stack.peek();
                        if(buffer1=='}'){
                            stack.pop();
                        }else{
                            console.log(i+'位置缺少}');
                        }
                        break;
                    case '[':
                        let buffer2=stack.peek();
                        if(buffer2==']'){
                            stack.pop();
                        }else{
                            console.log(i+'位置缺少]');
                        }
                        break;
                }
            }
        }

    }
var judg=new Judgment('2.3 + 23 / 12 + (3.14159×0.24');
    </script>
</html>